{"ast":null,"code":"var _jsxFileName = \"/Users/msanchezalcon/Desktop/ironhack/week8/Ironhack-FoundIT/client/src/components/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport AuthService from './../service/AuthService';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Navigation from './ui/Navbar';\nimport Message from './ui/CustomToast';\nimport SignupForm from './auth/Signup-form';\nimport LoginForm from './auth/Login-form';\nimport IndexPage from './pages/index';\nimport ProfilePage from './pages/profile';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.setTheUser = user => this.setState({\n      loggedInUser: user\n    }, () => console.log(\"El estado de App ha cambiado:\", this.state));\n\n    this.fetchUser = () => {\n      this.AuthService.isLoggedIn().then(response => this.state.loggedInUser === null && this.setState({\n        loggedInUser: response.data\n      })).catch(err => console.log({\n        err\n      }));\n    };\n\n    this.handleToast = (visible, text = '') => {\n      let toastCopy = { ...this.state.toast\n      };\n      toastCopy = {\n        visible,\n        text\n      };\n      this.setState({\n        toast: toastCopy\n      });\n    };\n\n    this.state = {\n      loggedInUser: null,\n      toast: {\n        visible: false,\n        text: ''\n      }\n    };\n    this.AuthService = new AuthService();\n  }\n\n  render() {\n    this.fetchUser();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navigation, {\n      setTheUser: this.setTheUser,\n      loggedInUser: this.state.loggedInUser,\n      handleToast: this.handleToast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/home\",\n      render: () => /*#__PURE__*/React.createElement(IndexPage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 61\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/main\",\n      render: () => this.state.loggedInUser ? /*#__PURE__*/React.createElement(ProfilePage, {\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 51\n        }\n      }) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 108\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/main\",\n      render: () => /*#__PURE__*/React.createElement(ItemList, {\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 61\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/main/:item_id\",\n      render: props => /*#__PURE__*/React.createElement(CoasterDetail, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 57\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: props => /*#__PURE__*/React.createElement(SignupForm, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        handleToast: this.handleToast,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 66\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: props => /*#__PURE__*/React.createElement(LoginForm, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        handleToast: this.handleToast,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 65\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Message, Object.assign({}, this.state.toast, {\n      handleToast: this.handleToast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/msanchezalcon/Desktop/ironhack/week8/Ironhack-FoundIT/client/src/components/App.js"],"names":["React","Component","AuthService","Switch","Route","Redirect","Navigation","Message","SignupForm","LoginForm","IndexPage","ProfilePage","App","constructor","setTheUser","user","setState","loggedInUser","console","log","state","fetchUser","isLoggedIn","then","response","data","catch","err","handleToast","visible","text","toastCopy","toast","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\n\nimport AuthService from './../service/AuthService'\n\nimport { Switch, Route, Redirect } from 'react-router-dom'\n\nimport Navigation from './ui/Navbar'\nimport Message from './ui/CustomToast'\nimport SignupForm from './auth/Signup-form'\nimport LoginForm from './auth/Login-form'\nimport IndexPage from './pages/index'\nimport ProfilePage from './pages/profile'\n\n\nclass App extends Component {\n\n    constructor() {\n        super()\n        this.state = {\n            loggedInUser: null,\n            toast: {\n                visible: false,\n                text: ''\n            }\n        }\n        this.AuthService = new AuthService()\n    }\n\n    setTheUser = user => this.setState({ loggedInUser: user }, () => console.log(\"El estado de App ha cambiado:\", this.state))\n\n    fetchUser = () => {\n        this.AuthService\n            .isLoggedIn()\n            .then(response => this.state.loggedInUser === null && this.setState({ loggedInUser: response.data }))\n            .catch(err => console.log({ err }))\n    }\n\n    handleToast = (visible, text = '') => {\n        let toastCopy = { ...this.state.toast }\n        toastCopy = { visible, text }\n        this.setState({ toast: toastCopy })\n    }\n\n    render() {\n\n        this.fetchUser()\n\n        return (\n\n            <>\n\n                <Navigation setTheUser={this.setTheUser} loggedInUser={this.state.loggedInUser} handleToast={this.handleToast} />\n\n                <Switch>\n                    <Route exact path=\"/home\" render={() => <IndexPage />} />\n\n                    <Route exact path=\"/main\" render={() =>\n                        this.state.loggedInUser ? <ProfilePage loggedInUser={this.state.loggedInUser} /> : <Redirect to='/signup' />}\n                    />\n\n                    <Route exact path=\"/main\" render={() => <ItemList loggedInUser={this.state.loggedInUser} />} />\n          <Route path=\"/main/:item_id\" render={props => <CoasterDetail {...props} />} />\n                    <Route exact path=\"/signup\" render={props => <SignupForm {...props} setTheUser={this.setTheUser} handleToast={this.handleToast} />} />\n                    <Route exact path=\"/login\" render={props => <LoginForm {...props} setTheUser={this.setTheUser} handleToast={this.handleToast} />} />\n                </Switch>\n\n                <Message {...this.state.toast} handleToast={this.handleToast} />\n\n            </>\n\n        )\n    }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}