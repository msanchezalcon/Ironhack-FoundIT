(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t){},113:function(e,t,a){e.exports=a.p+"static/media/add.a01d91d4.svg"},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),s=a.n(l),o=a(71),c=a(7),i=a(12),m=a(14),u=a(13),h=(a(83),a(84),a(35)),d=a.n(h),p=function e(){var t=this;Object(c.a)(this,e),this.login=function(e){return t.service.post("/login",e)},this.signup=function(e){return t.service.post("/signup",e)},this.logout=function(){return t.service.post("/logout")},this.isLoggedIn=function(){return t.service.get("/loggedin")},this.service=d.a.create({baseURL:"".concat("http://found-it-app.herokuapp.com/api"),withCredentials:!0})},g=a(8),E=a(43),f=a(34),b=(a(102),a(9)),v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logout=function(){n.AuthService.logout().then((function(){n.props.setTheUser(!1),n.props.handleToast(!0,"User has been disconnected")})).catch((function(e){return console.log(e)}))},n.AuthService=new p,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{bg:"light",variant:"light",expand:"lg",sticky:"top",className:"details"},r.a.createElement(E.a.Brand,null,r.a.createElement(b.b,{to:"/",style:{color:"lightseagreen"}},r.a.createElement("img",{className:"imgLogo",src:"./../../../../../wedding.svg",alt:"main logo"})," Found IT")),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"ml-auto"},r.a.createElement(f.a.Link,{as:"span"},r.a.createElement(b.c,{to:"/",exact:!0,activeStyle:{color:"lightseagreen"}},"Home")),r.a.createElement(f.a.Link,{as:"span"},r.a.createElement(b.c,{to:"/items/all",activeStyle:{color:"lightseagreen"}},"Find items")),this.props.loggedInUser?r.a.createElement(f.a.Link,{as:"span"},r.a.createElement("span",{onClick:this.logout},"Log out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Link,{as:"span"},r.a.createElement(b.c,{to:"/signup",activeStyle:{color:"lightseagreen"}},"Sign up")),r.a.createElement(f.a.Link,{as:"span"},r.a.createElement(b.c,{to:"/login",activeStyle:{color:"lightseagreen"}},"Log in"))),r.a.createElement(f.a.Link,{as:"span"},r.a.createElement(b.c,{to:"/user",activeStyle:{color:"lightseagreen"}},"Hi, ",this.props.loggedInUser?this.props.loggedInUser.username:"guest")))))}}]),a}(n.Component),I=a(53),S=function(e){var t=e.visible,a=e.text,n=e.handleToast;return r.a.createElement(I.a,{style:{position:"fixed",right:"10px",bottom:"10px",width:"300px"},show:t,onClose:function(){return n(!1)},delay:3e3,autohide:!0},r.a.createElement(I.a.Header,null," ",r.a.createElement("strong",{className:"mr-auto"},"Found IT")," "),r.a.createElement(I.a.Body,null,a))},y=a(22),U=a(17),C=a(5),O=a(31),j=a(24),w=a(16),T=(a(109),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(y.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.signup(n.state).then((function(e){n.props.setTheUser(e.data),n.props.handleToast(!0,"Signed up successfully"),n.props.history.push("/items/all")})).catch((function(e){return console.log(e.response.data.message)}))},n.state={name:"",username:"",password:""},n.authService=new p,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,{as:"main"},r.a.createElement(j.a,null,r.a.createElement(w.a,{md:{offset:3,span:6}},r.a.createElement("h3",{style:{color:"lightseagreen"}},"Sign up"),r.a.createElement("hr",null),r.a.createElement(C.a,{onSubmit:this.handleFormSubmit},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Name"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.name,name:"name",type:"text"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Username"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Password"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),r.a.createElement(C.a.Text,{className:"text-muted"},"At least two characters")),r.a.createElement(U.a,{type:"submit",className:"btn btn-light btn-block btn-sm details auth"},"Sign up")))))}}]),a}(n.Component)),x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(y.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.login(n.state).then((function(e){n.props.setTheUser(e.data),n.props.handleToast(!0,"You are logged in"),n.props.history.push("/items/all")})).catch((function(e){return console.log(e.response.data.message)}))},n.state={username:"",password:""},n.authService=new p,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,{as:"main"},r.a.createElement(j.a,null,r.a.createElement(w.a,{md:{offset:3,span:6}},r.a.createElement("h3",{style:{color:"lightseagreen"}},"Log in"),r.a.createElement("hr",null),r.a.createElement(C.a,{onSubmit:this.handleFormSubmit},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Username"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Password"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),r.a.createElement(C.a.Text,{className:"text-muted"},"At least two characters")),r.a.createElement(U.a,{type:"submit",className:"btn btn-light btn-block btn-sm details auth"},"Log in")))))}}]),a}(n.Component),k=(a(110),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container homePage"},r.a.createElement("img",{className:"imgPag",src:"./../../../../../logo_transparent.png",alt:"company logo"})),r.a.createElement("div",{className:"container registerBtns"},r.a.createElement(U.a,{className:"btn btn-light btn-block btn-sm details authIndex"},r.a.createElement(b.b,{to:"/signup",activeStyle:{color:"lightseagreen"}},"Sign up")),r.a.createElement(U.a,{className:"btn btn-light btn-block btn-sm details authIndex"},r.a.createElement(b.b,{to:"/login",activeStyle:{color:"lightseagreen"}},"Log in"))))}),L=function e(){var t=this;Object(c.a)(this,e),this.getAllItems=function(){return t.service.get("/items/all")},this.newItem=function(e){return t.service.post("/items/new",e)},this.getOneItem=function(e){return t.service.get("/items/".concat(e))},this.editItem=function(e){return t.service.post("/items/".concat(e,"/edit"))},this.deleteItem=function(e){return t.service.get("/items/".concat(e,"/delete"))},this.service=d.a.create({baseURL:"".concat("http://found-it-app.herokuapp.com/api"),withCredentials:!0})},N=a(27),D=(a(69),a(73)),M=a.n(D),B=function(e){var t=e._id,a=e.name,n=e.imageUrl;e.deleteItem;return console.log("ID DE LA CARTA",t),r.a.createElement(w.a,{md:4},r.a.createElement(N.a,{className:"item-card"},r.a.createElement(N.a.Img,{variant:"top",src:n}),r.a.createElement(N.a.Body,null,r.a.createElement(N.a.Title,null,a),r.a.createElement("div",{className:"imgCardContainer"},r.a.createElement(b.b,{to:"/items/".concat(t)},r.a.createElement("img",{className:"imgCards",src:M.a,alt:"see more"}))))))},F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateCurrentState=function(e){n.setState({name:e.name||"",category:e.category||"",description:e.description||""})},n.handleInputChange=function(e){var t,a=e.target,r=a.name,l=a.value;n.setState((t={},Object(y.a)(t,r,l),Object(y.a)(t,"foundBy",n.props.loggedInUser._id),t))},n.handleFormSubmit=function(e){e.preventDefault(),n.appService.newItem(n.state).then((function(){return n.props.handleItemSubmit()})).catch((function(e){return console.log(e)}))},n.handleUpdateSubmit=function(e){e.preventDefault(),n.appService.editItem(n.state).then((function(){return n.props.handleItemSubmit()})).catch((function(e){return console.log(e)}))},n.state={name:"",description:"",category:"",foundBy:""},n.appService=new L,n}return Object(i.a)(a,[{key:"render",value:function(){return console.log("FORM",this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{color:"lightseagreen"}},"Item info"),r.a.createElement("hr",null),r.a.createElement(C.a,{className:"newForm",onSubmit:this.handleFormSubmit},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Name"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.name,name:"name",type:"text"}),r.a.createElement(C.a.Text,{className:"text-muted"},"The devil is in the details ;)")),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Description"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.description,name:"description",type:"text"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Category"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.category,name:"category",type:"text"})),r.a.createElement(U.a,{className:"btn btn-light btn-block btn-sm details auth",type:"submit"},"Submit")))}}]),a}(n.Component),A=(a(111),function(){return r.a.createElement("div",{className:"spinner"})}),G=(a(112),a(39)),_=(a(113),a(74)),H=a.n(_),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.updateItemList()},n.updateItemList=function(){n.appService.getAllItems().then((function(e){console.log("all items",e.data),n.setState({items:e.data})})).catch((function(e){return console.log(e)}))},n.handleModal=function(e){return n.setState({showModal:e})},n.showUpdateModal=function(e){n.setState({showUpdateModal:!0,selectedId:e})},n.handleItemSubmit=function(){n.handleModal(!1),n.updateItemList()},n.state={items:void 0,showModal:!1,selectedId:null},n.appService=new L,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{as:"main",className:"items-page"},this.props.loggedInUser&&r.a.createElement("div",{className:"container"}," ",r.a.createElement(U.a,{variant:"link",onClick:function(){return e.handleModal(!0)}},r.a.createElement("img",{className:"addBtn",src:H.a,alt:"add"}))),this.state.items?r.a.createElement(j.a,null,this.state.items&&this.state.items.map((function(t){return r.a.createElement(B,Object.assign({editItem:e.editItem,key:t._id},t))}))):r.a.createElement(A,null)),r.a.createElement(G.a,{size:"lg",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},r.a.createElement(G.a.Body,null,r.a.createElement(F,Object.assign({},this.props,{handleItemSubmit:this.handleItemSubmit})))))}}]),a}(n.Component),P=(a(114),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=e.props.match.params.item_id;e.appService.getOneItem(t).then((function(t){return e.setState({itemDetails:t.data})})).catch((function(e){return console.log(e)}))},e.state={itemDetails:void 0},e.appService=new L,e}return Object(i.a)(a,[{key:"render",value:function(){return console.log("detail props",this.state.itemDetails),r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{as:"main"},this.state.itemDetails?r.a.createElement(j.a,null,r.a.createElement(w.a,{md:{span:5,offset:1}},r.a.createElement("h1",null,this.state.itemDetails.name),r.a.createElement("hr",null),r.a.createElement("h4",null," ",this.state.itemDetails.description),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"Category:")," ",this.state.itemDetails.category),r.a.createElement("p",null,r.a.createElement("b",null,"Found by:")," ",this.state.itemDetails.foundBy.username),r.a.createElement("hr",null),r.a.createElement(b.b,{className:"btn btn-light btn-block btn-sm details authDetail",to:"/items/all"},"Back to search")),r.a.createElement(w.a,{md:{span:4,offset:1}},r.a.createElement("img",{src:this.state.itemDetails.imageUrl,alt:this.state.itemDetails.name}))):r.a.createElement(A,null)))}}]),a}(n.Component)),z=function e(){var t=this;Object(c.a)(this,e),this.getAllUsers=function(){return t.service.get("/users")},this.getUserItems=function(e){return t.service.get("/items/users/".concat(e))},this.editUser=function(e,a){return t.service.post("/users/".concat(e),a)},this.service=d.a.create({baseURL:"".concat("http://found-it-app.herokuapp.com/api"),withCredentials:!0})},J=(a(70),a(115),a(75)),Y=a.n(J),q=a(76),K=a.n(q),Q=a(77),V=a.n(Q),W=function(e){var t=e._id,a=e.name,n=e.imageUrl,l=e.deleteItem,s=e.showUpdateModal;return console.log("ID DE LA CARTA",t),r.a.createElement(w.a,{md:4},r.a.createElement(N.a,{className:"item-card"},r.a.createElement(N.a.Img,{variant:"top",src:n}),r.a.createElement(N.a.Body,null,r.a.createElement(N.a.Title,null,a),r.a.createElement("div",{className:"imgCardContainer"},r.a.createElement(b.b,{to:"/items/".concat(t)},r.a.createElement("img",{className:"imgCards",src:V.a,alt:"see more"})),r.a.createElement(b.b,{to:"/items/".concat(t,"/edit"),onClick:function(){return s(t)}}," ",r.a.createElement("img",{className:"imgCards",src:Y.a,alt:"edit"})),r.a.createElement("div",{onClick:function(){return l(t)}},r.a.createElement("img",{className:"imgCards",src:K.a,alt:"delete"}))))))},X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(y.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.userService.editUser(n.props.id,n.state).then((function(e){n.props.setTheUser(e.data),n.props.closeModal()})).catch((function(e){return console.log(e)}))},n.state={name:n.props.name,username:n.props.username,avatar:n.props.avatar},n.userService=new z,n}return Object(i.a)(a,[{key:"render",value:function(){return console.log("set the user in profile form",this.props.setTheUser),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{md:{offset:3,span:6}},r.a.createElement("h3",{style:{color:"lightseagreen"}},"Edit profile"),r.a.createElement("hr",null),r.a.createElement(C.a,{onSubmit:this.handleFormSubmit},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Name"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.name,name:"name",type:"text"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Username"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,{style:{color:"SlateBlue"}},"Avatar"),r.a.createElement(C.a.Control,{onChange:this.handleInputChange,value:this.state.avatar,name:"avatar",type:"text"})),r.a.createElement(U.a,{type:"submit",className:"btn btn-light btn-block btn-sm details auth"},"Submit"))))}}]),a}(n.Component),Z=a(56),$=a.n(Z),ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.loggedInUser&&n.updateItemList()},n.componentDidUpdate=function(e){!e.loggedInUser&&n.props.loggedInUser&&n.updateItemList()},n.updateItemList=function(){n.userService.getUserItems(n.state.id).then((function(e){console.log("all items from this user",e.data),n.setState({items:e.data})})).catch((function(e){return console.log(e)}))},n.deleteItem=function(e){n.appService.deleteItem(e).then((function(t){var a=n.state.items.filter((function(t){return t._id!==e}));n.setState({items:a})})).catch((function(e){return console.log(e)}))},n.handleModal=function(){return n.setState({showModal:!0})},n.onHide=function(){return n.setState({showModal:!1})},n.handleItemSubmit=function(){n.handleModal(!1),n.updateItemList()},n.state={items:[],showModal:!1,id:n.props.loggedInUser._id},n.appService=new L,n.userService=new z,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;console.log("profile page props",this.props),console.log("props de usuario en perfil",this.props.loggedInUser),console.log("items en estado de perfil",this.state.items);var t=this.props.loggedInUser?this.props.loggedInUser._id:"",a=this.props.loggedInUser?this.props.loggedInUser.name:"",n=this.props.loggedInUser?this.props.loggedInUser.username:"",l=this.props.loggedInUser?this.props.loggedInUser.avatar:"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," Hi, ",this.props.loggedInUser.name,"!"),r.a.createElement("p",null,r.a.createElement("img",{className:"avatarUser",src:this.props.loggedInUser.avatar,alt:"user avatar"})),r.a.createElement(U.a,{className:"btn btn-light btn-block btn-sm details auth",onClick:function(){return e.handleModal(!0)}},"Edit profile"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h4",null,"These are your listed items:"),r.a.createElement("br",null),this.state.items?r.a.createElement(j.a,null,this.state.items.map((function(t){return r.a.createElement(W,Object.assign({editItem:e.editItem,deleteItem:e.deleteItem,key:t._id},t))}))):r.a.createElement(A,null)),r.a.createElement(G.a,{size:"lg",show:this.state.showModal,onHide:this.onHide},r.a.createElement(G.a.Body,null,r.a.createElement(j.a,null,this.state.showModal?r.a.createElement(X,{id:t,name:a,username:n,avatar:l,closeModal:this.onHide,setTheUser:this.props.setTheUser}):null))))}}]),a}(n.Component),te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).setTheUser=function(t){return e.setState({loggedInUser:t},(function(){return console.log("El estado de App ha cambiado:",e.state)}))},e.fetchUser=function(){e.AuthService.isLoggedIn().then((function(t){return null===e.state.loggedInUser&&e.setState({loggedInUser:t.data})})).catch((function(e){return console.log({err:e})}))},e.handleToast=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(o.a)({},e.state.toast);n={visible:t,text:a},e.setState({toast:n})},e.state={loggedInUser:null,toast:{visible:!1,text:""}},e.AuthService=new p,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser,handleToast:this.handleToast}),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(){return r.a.createElement(k,null)}}),r.a.createElement(g.b,{exact:!0,path:"/items/all",render:function(){return e.state.loggedInUser?r.a.createElement(R,{loggedInUser:e.state.loggedInUser}):r.a.createElement(g.a,{to:"/signup"})}}),r.a.createElement(g.b,{exact:!0,path:"/items/:item_id",render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(g.b,{exact:!0,path:"/user",render:function(t){return r.a.createElement(ee,Object.assign({},t,{setTheUser:e.setTheUser,loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(g.b,{exact:!0,path:"/user",render:function(t){return r.a.createElement($.a,Object.assign({},t,{setTheUser:e.setTheUser,loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(g.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(T,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}}),r.a.createElement(g.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(x,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}})),r.a.createElement(S,Object.assign({},this.state.toast,{handleToast:this.handleToast})))}}]),a}(n.Component);s.a.render(r.a.createElement(b.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null))),document.getElementById("root"))},56:function(e,t){},69:function(e,t,a){},70:function(e,t,a){},73:function(e,t,a){e.exports=a.p+"static/media/lupa.384152e1.svg"},74:function(e,t,a){e.exports=a.p+"static/media/app.a55222a6.svg"},75:function(e,t,a){e.exports=a.p+"static/media/edit.fe3ad0b8.svg"},76:function(e,t,a){e.exports=a.p+"static/media/trash.eec78223.svg"},77:function(e,t,a){e.exports=a.p+"static/media/lupa.384152e1.svg"},78:function(e,t,a){e.exports=a(116)},84:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.4ee51266.chunk.js.map